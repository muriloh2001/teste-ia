<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Loja {{ codigo_loja }} ‚Äì Grade por Cor e Tamanho</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-800 font-sans p-6">

    <h2 class="text-2xl font-bold mb-4 text-blue-700">üìç Loja {{ codigo_loja }} ‚Äì Grade por Cor e Tamanho</h2>

    <!-- Tabela de Grade -->
    <div class="overflow-x-auto mb-10">
        <table class="min-w-full border-collapse rounded-lg overflow-hidden shadow-md bg-white">
            <thead class="bg-gray-200 text-gray-700 text-sm uppercase text-center">
                <tr>
                    <th class="border p-2">Cor</th>
                    {% for col in colunas %}
                        <th class="border p-2">{{ col }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody class="text-center">
                {% for row in tabela %}
                    <tr>
                        <td class="border p-2 font-semibold">{{ row['cor_1'] }}</td>
                        {% for col in colunas %}
                            <td class="border p-2">{{ row[col] }}</td>
                        {% endfor %}
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- Faltando -->
    <div class="mb-8">
        <h3 class="text-xl font-bold text-red-600 mb-2">üîª Itens Faltando</h3>
        {% if faltando %}
            <table class="min-w-full border-collapse rounded shadow bg-white">
                <thead class="bg-red-100 text-red-800 text-sm uppercase text-center">
                    <tr>
                        <th class="border p-2">Cor</th>
                        <th class="border p-2">Tamanho</th>
                    </tr>
                </thead>
                <tbody class="text-center">
                    {% for item in faltando %}
                        <tr>
                            <td class="border p-2">{{ item.cor }}</td>
                            <td class="border p-2">{{ item.tamanho }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p class="text-green-700">Nenhum item faltando.</p>
        {% endif %}
    </div>

    <!-- Sobrando -->
    <div class="mb-8">
        <h3 class="text-xl font-bold text-yellow-600 mb-2">üì¶ Itens com Sobra</h3>
        {% if sobrando %}
            <table class="min-w-full border-collapse rounded shadow bg-white">
                <thead class="bg-yellow-100 text-yellow-800 text-sm uppercase text-center">
                    <tr>
                        <th class="border p-2">Cor</th>
                        <th class="border p-2">Tamanho</th>
                        <th class="border p-2">Quantidade</th>
                    </tr>
                </thead>
                <tbody class="text-center">
                    {% for item in sobrando %}
                        <tr>
                            <td class="border p-2">{{ item.cor }}</td>
                            <td class="border p-2">{{ item.tamanho }}</td>
                            <td class="border p-2">{{ item.quantidade }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p class="text-green-700">Nenhuma sobra identificada.</p>
        {% endif %}
    </div>

    <a href="/analise" class="inline-block bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded shadow mt-4">
        üîô Voltar √† An√°lise
    </a>
</body>
</html>
